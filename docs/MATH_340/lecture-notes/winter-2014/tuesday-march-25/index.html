<head>
    <title>Wikinotes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.0.0/semantic.min.css" />
    <link rel="stylesheet" href="/static/styles.css" />
    <meta name="viewport" content="width=device-width">
    
<script type="text/javascript"
        src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    TeX: {
        extensions: ['cancel.js']
    },
    tex2jax: {
        inlineMath: [  ['$', '$'] ],
        processEscapes: true
    }
});
</script>

</head>
<body>
    
    <div id="header" class="ui container">
        <a href="/">
            <img src="/static/img/logo-header.png" class="ui image" />
        </a>
    </div>
    
    <div id="content">
        <div class="ui container">
            
<div class="ui container">
    <div class="ui secondary segment">
        <div class="ui large breadcrumb">
            <a class="section" href="/">Home</a>
            <i class="right chevron icon divider"></i>
            <a class="section" href="/MATH_340/">
                MATH 340
            </a>
            <i class="right chevron icon divider"></i>
            <span class="active section">
                
                Tuesday, March 25, 2014
                
            </span>
        </div>
    </div>
    <h1 class="ui header">
        <div class="content">
            
            Tuesday, March 25, 2014
            
            <span>
                <a href="http://creativecommons.org/licenses/by-nc/3.0/">
                    <img src="/static/img/cc-by-nc.png" alt="CC-BY-NC"
                         title="Available under a Creative Commons Attribution-NonCommercial 3.0 Unported License" />
                </a>
            </span>
            
            <div class="sub header">
                Catalan numbers continued, generating functions
            </div>
            
        </div>
    </h1>
    <div class="ui icon list">
        <div class="item">
            <i class="user icon"></i>
            <div class="content">
                <strong>Maintainer:</strong> admin
            </div>
        </div>
    </div>
    <div class="ui divider"></div>
    <div id="wiki-content">
	
        <p>Some more things counted by the Catalan numbers. Introduction to generating functions, and some examples of how to use them.</p>
<div class="toc">
<ul>
<li><a href="#things-counted-by-the-catalan-numbers">1 Things counted by the Catalan numbers</a><ul>
<li><a href="#plane-trees-on-n1-vertices">1.1 Plane trees on $n+1$ vertices</a></li>
<li><a href="#planted-trivalent-trees-with-2n2-vertices">1.2 Planted trivalent trees with $2n+2$ vertices</a></li>
<li><a href="#decomposition-of-a-polygon-into-triangles">1.3 Decomposition of a polygon into triangles</a></li>
<li><a href="#covering-1-2-ldots-n-with-non-comparable-intervals">1.4 Covering $\{1, 2, \ldots, n\}$ with non-comparable intervals</a></li>
</ul>
</li>
<li><a href="#generating-functions">2 Generating functions</a><ul>
<li><a href="#examples">2.1 Examples</a></li>
<li><a href="#using-recurrence-relations">2.2 Using recurrence relations</a><ul>
<li><a href="#tower-of-hanoi-example">2.2.1 Tower of Hanoi example</a></li>
<li><a href="#subsets-example">2.2.2 Subsets example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h2 class="header"><i>1</i>Things counted by the Catalan numbers<a class="headerlink" href="#things-counted-by-the-catalan-numbers" name="things-counted-by-the-catalan-numbers">&para;</a></h2>
<p>There are over 200 distinct categories of things that can be counted by the Catlan numbers. We'll only study a few in this course.</p>
<h3 class="header"><i>1.1</i>Plane trees on $n+1$ vertices<a class="headerlink" href="#plane-trees-on-n1-vertices" name="plane-trees-on-n1-vertices">&para;</a></h3>
<p>Basically, trees of <span>$n+1$</span> vertices where the order in which the children are drawn matters.</p>
<p>To show that there is a bijection between this and the Catalan numbers of length <span>$n$</span>, we perform a DFS on such a tree, starting from the root, and create a Catalan number in the process: every time we move downward (away from the root), we append a + to our Catalan number, and every time we move up (towards the root), we append a -. so there's a 1:1 mapping from the tree to the Catalan sequence of +'s and -'s representing its DFS, and vice versa.</p>
<h3 class="header"><i>1.2</i>Planted trivalent trees with $2n+2$ vertices<a class="headerlink" href="#planted-trivalent-trees-with-2n2-vertices" name="planted-trivalent-trees-with-2n2-vertices">&para;</a></h3>
<p>A planted tree is one where the root has degree one, and a trivalent tree is one where each node has degree either 1 or 3. To show that there is a bijection between planted, trivalent trees with <span>$2n+2$</span> vertices and the Catalan numbers of length <span>$n$</span>, we first remove the leaves, then perform a DFS from the root. Every time we reach a vertex, we append a + to our Catalan number; every time we move right, we append a -. Note that these trees are essentially binary trees, due to the trivalent condition.</p>
<h3 class="header"><i>1.3</i>Decomposition of a polygon into triangles<a class="headerlink" href="#decomposition-of-a-polygon-into-triangles" name="decomposition-of-a-polygon-into-triangles">&para;</a></h3>
<p>Consider the problem of decomposing a polygon of <span>$(n+2)$</span> sides into <span>$n$</span> triangles using <span>$n-1$</span> non-intersecting diagonals. We can create a bijection between this and the problem of planted, trivalent trees on <span>$2n+2$</span> vertices above. Left as an exercise for the reader.</p>
<h3 class="header"><i>1.4</i>Covering $\{1, 2, \ldots, n\}$ with non-comparable intervals<a class="headerlink" href="#covering-1-2-ldots-n-with-non-comparable-intervals" name="covering-1-2-ldots-n-with-non-comparable-intervals">&para;</a></h3>
<p>Suppose we want to cover the set <span>$\{1, 2, \ldots, n \}$</span> using intervals that are not subsets of each other. Left as an exercise for the reader.</p>
<h2 class="header"><i>2</i>Generating functions<a class="headerlink" href="#generating-functions" name="generating-functions">&para;</a></h2>
<p>Let <span>$f(n)$</span> be the number of objects of size <span>$n$</span>. Then, the <strong>ordinary generating function</strong> is given by</p>
<p><span>$$F(x) = \sum_{n \geq 0} f(n) \cdot x^n$$</span></p>
<p>and the <strong>exponential generating function</strong> is given by</p>
<p><span>$$F(x) = \sum_{n \geq 0} f(n) \cdot \frac{x^n}{n!}$$</span></p>
<h3 class="header"><i>2.1</i>Examples<a class="headerlink" href="#examples" name="examples">&para;</a></h3>
<p>If <span>$S(n)$</span> is the number of subsets of a set of size <span>$n$</span>, then</p>
<p><span>$$S(x) = \sum_{n \geq 0} S(n) \cdot x^n = \sum_{n \geq 0} 2^n x^n = \sum_{n \geq 0} (2x)^n = \frac{1}{1-2x}$$</span></p>
<div class="ui divider"></div>
<p>If <span>$t(n)$</span> is the number of distinct labelled trees on <span>$n$</span> vertices, then</p>
<p><span>$$T(x) = \sum_{n \geq 0} t(n) \cdot x^n = \sum_{n \geq 0} n^{n-2} \cdot x^n = ?$$</span></p>
<h3 class="header"><i>2.2</i>Using recurrence relations<a class="headerlink" href="#using-recurrence-relations" name="using-recurrence-relations">&para;</a></h3>
<p>(A) Find a recursive function for <span>$f(n)$</span> (remember the base case!)<br />
(B) Multiply both sides of the recurrence by <span>$x^n$</span> and sum over those values of <span>$n$</span> where the recurrence holds<br />
(C) Solve the resulting equation to find <span>$f(x)$</span> (e.g., by partial fractions)<br />
(D) Find <span>$f(n)$</span> from <span>$F(x)$</span></p>
<h4 class="header"><i>2.2.1</i>Tower of Hanoi example<a class="headerlink" href="#tower-of-hanoi-example" name="tower-of-hanoi-example">&para;</a></h4>
<p>Tower of Hanoi: <span>$n$</span> disks, 3 stands, no disk can be on top of a disk that is smaller than itself. Let <span>$h(n)$</span> be the smallest number of moves required to get all the disks from stack 1 to stack 2, using stack 3 for temporary moves.</p>
<p>It's not hard to see that when we move the largest disk to stack 2, all the other disks should be in stack 3.</p>
<p>The procedure is as follows:</p>
<ol>
<li>Move <span>$n-1$</span> smaller disks to stack 3. This takes <span>$h(n-1)$</span> steps.</li>
<li>Move the largest disk to stack 2. This takes one step.</li>
<li>Move <span>$n-1$</span> smaller disks from stack 3 to stack 2. This takes <span>$h(n-1)$</span> steps.</li>
</ol>
<p>Thus, for step (A), we have:</p>
<p><span>$$h(n) = 2h(n-1) + 1$$</span></p>
<p>For step (B), we try to remove the summation from our expression for <span>$H(x)$</span>:</p>
<p><span>$$\begin{align}
H(x) &amp; = \sum_{n \geq 0} h(n)\cdot x^n = h(0) \cdot x^0 + \sum_{n \geq 1} h(n) \cdot x^n \\
&amp; = 0 + \sum_{n \geq 1} (2h(n-1) + 1)\cdot x^n \tag{using our expression for $h(n)$ from above} \\
&amp; = \sum_{n \geq 1} 2h(n-1)\cdot x^n + \sum_{n \geq 1} x^n \\
&amp; = 2x\sum_{n \geq 1} h(n-1) \cdot x^{(n-1)} + x\sum_{n \geq 1}x^{n-1} \tag{so we can start the sum from $n=0$} \\
&amp; = 2x\sum_{n \geq 0} h(n) x^n + x\sum_{n \geq 0}x^n \\
&amp; = 2x \cdot H(x) + x \cdot \frac{1}{1-x}
\end{align}$$</span></p>
<p>Rearranging to solve for <span>$H(x)$</span>, we have:</p>
<p><span>$$H(x) - 2xH(x) = x \cdot \frac{1}{1-x} \quad \therefore H(x) \cdot (1-2x) = x \cdot \frac{1}{1-x} \quad \therefore H(x) = \frac{x}{(1-2x)(1-x)}$$</span></p>
<p>Next, we use partial fractions to get <span>$H(x)$</span> in the form</p>
<p><span>$$H(x) = \frac{x}{(1-2x)(1-x)} = \frac{A}{1-2x} + \frac{B}{1-x}$$</span></p>
<p>where <span>$A$</span> and <span>$B$</span> are constants. To solve for <span>$A$</span> and <span>$B$</span>, we multiply both sides by <span>$(1-2x)(1-x)$</span>:</p>
<p><span>$$\begin{align} x &amp; = A(1-x) + B(1-2x) \\
&amp; = A - Ax + B - 2Bx \\
&amp; = (A+B) + (-A -2B)x \\
\therefore \; A + B &amp; = 0 \mapsto B = -A \\
\therefore -A-2B &amp; = -A + 2A = 1 \mapsto A = 1,\, B = -1 
\end{align}$$</span></p>
<p>So we can write <span>$H(x)$</span> as follows:</p>
<p><span>$$H(x) = \frac{x}{1-2x} - \frac{1}{1-x}$$</span></p>
<p>Finally, we have step (D), in which we try to find a non-recursive formula for <span>$h(n)$</span>. We can do so using the fact that</p>
<p><span>$$\begin{align}
h(n) &amp; = [x^n]H(x) \tag{i.e., the coefficient of $x^n$ in $H(x)$} \\
&amp; = [x^n]\left ( \frac{1}{1-2x} - \frac{1}{1-x} \right ) \\
&amp; = [x^n]\left (\left ( \sum_{n \geq 0} (2x)^n \right ) - \left ( \sum_{n \geq 0} x^n \right ) \right ) \\
&amp; = [x^n] \left ( (1+2x + (2x)^2 + \cdots ) - (1 + x + x^2 + \cdots ) \right ) \\
&amp; = 2n-1 \tag{think about it, it makes sense}
\end{align}$$</span></p>
<h4 class="header"><i>2.2.2</i>Subsets example<a class="headerlink" href="#subsets-example" name="subsets-example">&para;</a></h4>
<p>Let <span>$f(n)$</span> be the number of subsets of <span>$\{1, 2, \ldots, n\}$</span> that contain no pair of consecutive integers. The recurrence relation for this is</p>
<p><span>$$f(n) = f(n-1) + f(n-2)$$</span></p>
<p>since a subset <span>$S$</span> can either contain <span>$n$</span> (in which case, we can't have <span>$n-1$</span> in our set, so we just look at all subsets up to <span>$n-2$</span>) or it doesn't contain <span>$n$</span>, in which case <span>$S$</span> is a valid subset of <span>$\{1, 2, \ldots, n-1\}$</span> and we just look at <span>$f(n-1)$</span>.</p>
<p>Incidentally, this is equivalent to the Fibonacci numbers.</p>
	
    </div>
</div>

        </div>
    </div>
    <div id="footer" class="ui container">
        <div class="ui stackable grid">
            <div class="twelve wide column">
                <p>
                    Built by <a href="https://twitter.com/dellsystem">
                    @dellsystem</a>. Content is student-generated. <a
                    href="https://github.com/dellsystem/wikinotes">See the old codebase on GitHub</a>
                </p>
            </div>
            <div class="four wide right aligned column">
                <p><a href="#header">Back to top</a></p>
            </div>
        </div>
    </div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-28456804-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
